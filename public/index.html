<!DOCTYPE HTML>
<html>
    <head>
        <title>
            Distributor Aluminium Dilion Agung Jaya 
        </title>
        <link rel="icon" href="./img/dilionlogo.png" />
        <link rel="stylesheet" href="./css/base.css">
        <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    </head>
    <body onresize="adjustSliderWidth()" id="dilion-content" class="dilion-content"> 
        <header id="dilionHeader" class="dilion-header"></header>
        <div id="dilionSidebar" class="dilion-sidebar"></div>
        <main class="dilion-main">
            <div id="dilion-slider">
                <div id="dilion-slider-right-button">
                    <span id="dilion-slider-next-button"></span>
                </div>
                <div id="dilion-slider-left-button">
                    <span id="dilion-slider-previous-button"></span>
                </div>
                <div id="dilion-slider-container">
                    <img class="dilion-slider-content" src="./img/slide/12_header2.jpg">
                    <img class="dilion-slider-content" src="./img/slide/7_DILION.jpg">
                    <img class="dilion-slider-content" src="./img/slide/_dil1.jpg">
                    <img class="dilion-slider-content" src="./img/slide/_dil2.jpg">
                    <img class="dilion-slider-content" src="./img/slide/_dil5.jpg">
                    <img class="dilion-slider-content" src="./img/slide/_dil4.jpg">
                    <img class="dilion-slider-content" src="./img/slide/_dil3.jpg">
                </div>
            </div>
        </main>
    </body>

    <script src="./scripts/loadHTML.js"></script>
    <script>


        let contentBody = document.getElementById('dilion-content');
        contentBody.style.transform = 'translateY(-100px)';
        setTimeout( function(){
            contentBody.style.transform = 'translateY(0px)';
        }, 200);
        loadHTML( "dilionHeader", "./_views/navbar.html" );
        loadHTML( "dilionSidebar", "./_views/sidebar.html" );

        let sliderNextButton = document.getElementById('dilion-slider-right-button');
        let sliderPrevButton = document.getElementById('dilion-slider-left-button');
        let sliderWidth = document.getElementById('dilion-slider').offsetWidth;
        let slider = document.getElementById('dilion-slider-container');
        let counter = 0;

        function adjustSliderWidth(){
            sliderWidth = document.getElementById('dilion-slider').offsetWidth;
            slider.style.transform = 'translateX('+ parseInt(counter * -sliderWidth) +'px)';
        }
        
        function slideRight(){
            if(counter >= 6){
                slider.style.transform = 'translateX(0px)';
                counter = 0;
            }
            else{
                counter++;
                slider.style.transform = 'translateX('+ parseInt(counter * -sliderWidth) +'px)';
            }
        }
        function slideLeft(){
            if(counter <= 0 || slider.getAttribute("style")== null || slider.getAttribute("style")==""){
                slider.style.transform = 'translateX(-' + parseInt(6 * sliderWidth) + 'px)';
                counter = 6;
            }
            else{
                counter--;
                slider.style.transform = 'translateX('+ parseInt(counter * -sliderWidth) +'px)';
            }
        }
        let slideRepeat = setInterval(function(){
            slideRight()
        },4000);

        sliderNextButton.onclick = function(){ 
            slideRight(); 
            clearInterval(slideRepeat);
            slideRepeat = setInterval(
                function(){
                    slideRight()
                }
            ,4000); 
        }
        sliderPrevButton.onclick = function(){ 
            slideLeft(); 
            clearInterval(slideRepeat);
            slideRepeat = setInterval(
                function(){
                    slideRight()
                }
            ,4000); 
        }
    </script>
</html>